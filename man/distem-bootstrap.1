.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.44.1.
.TH DISTEM-BOOTSTRAP "1" "March 2014" "distem-bootstrap 1.0" "User Commands"
.SH NAME
distem-bootstrap \- manual page for distem-bootstrap 1.0
.SH SYNOPSIS
.B distem-bootstrap
[\fIoptions\fR] [\fI<script_to_execute>\fR]
.SH DESCRIPTION
distem\-bootstrap automatically sets up a distem environment.
When run without options, it will create a distem environment with the latest
released version of distem, using the nodes from $OAR_NODEFILE or $GOOD_NODES.
.SH OPTIONS
.TP
\fB\-f\fR, \fB\-\-node\-list\fR <nodelist_file>
File containing the list of nodes to install. If not specified, will use $GOOD_NODES or $OAR_NODEFILE
.TP
\fB\-c\fR <coordinator_address>,
Address of the coordinator (default: first node)
.HP
\fB\-\-coordinator\fR
.TP
\fB\-x\fR, \fB\-\-no\-init\-pnodes\fR
Do not initialize all pnodes
.TP
\fB\-\-max\-vifaces\fR <nb>
Set the maximum number of vifaces on a physical node (used only without \fB\-\-no\-init\-pnodes\fR)
.TP
\fB\-d\fR, \fB\-\-debug\fR
Debug mode (display commands executed on nodes)
.TP
\fB\-D\fR, \fB\-\-distem\-debug\fR
Show distem output when executing distem commands (script, node init)
.TP
\fB\-k\fR, \fB\-\-ssh\-key\fR [<ssh_key_file>]
Path of the ssh private key to use
.TP
\fB\-p\fR <package1>,<package2>,<...>,
Additional debian packages to install on coordinator
.HP
\fB\-\-debpackages\fR
.TP
\fB\-r\fR <package1>,<package2>,<...>,
Additional gem packages to install on coordinator
.HP
\fB\-\-gempackages\fR
.TP
\fB\-\-distem\-version\fR <distem_version>
Version of distem to install (default: latest)
.TP
\fB\-g\fR, \fB\-\-git\fR [<git_hash|git_tag>]
Install a git snapshot of distem (default: master). Additional packages are installed on the coordinator to rebuild the Debian package
.TP
\fB\-U\fR, \fB\-\-git\-url\fR <git_repository>
Overwrite the default distem git repository
.TP
\fB\-G\fR, \fB\-\-gerrit\fR <gerrit_ref>
Checkout a gerrit ref (e.g refs/changes/94/94/1) and rebuild a Debian package
.TP
\fB\-S\fR, \fB\-\-stealth\-mode\fR
Do not report usage statistics (Grid'5000 only)
.TP
\fB\-\-btrfs\-format\fR <tmp_device>
Format the device with btrfs support to allow COW on Vnodes (experimental)
.TP
\fB\-\-ci\fR <path>
Path to the distem source directory (used only for CI purpose)
.TP
\fB\-n\fR, \fB\-\-network\-mode\fR <mode>
Define the network mode (classical or vxlan)
.TP
\fB\-i\fR, \fB\-\-network\-interface\fR <iface>
Define the root network interface for inter\-pnode communication (use only with vxlan network mode)
.TP
\fB\-\-verbose\fR
Activate the verbose mode on Distem servers
.TP
\fB\-h\fR, \fB\-\-help\fR
Display this screen
.PP
When executing a script, the file containing the list of nodes is available in the DISTEM_NODES
environment variable, while the address of the coordinator is in DISTEM_COORDINATOR.
.SH EXAMPLES
# reserve and deploy nodes using katapult3, then install distem
oarsub \-t deploy \-l nodes=10,walltime=1 \e
.IP
\&'katapult3 \-e squeeze\-x64\-min \-c \-\-sleep \-\- distem\-bootstrap'
.PP
# run script.rb against the latest git snapshot of distem
distem\-bootstrap \-\-no\-init\-pnodes \-\-git \-\- script.rb
# setup distem, installing additional packages
distem\-bootstrap \-p htop \-r restfully \-f nodes
